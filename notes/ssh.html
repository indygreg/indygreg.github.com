


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License

Name       : Pollinating  
Description: A two-column, fixed-width design with dark color scheme.
Version    : 1.0
Released   : 20101114

-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
  <title>Gregory Szorc'c Blog</title>
<link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/blog/feed" />
<link rel="alternate" type="application/atom+xml" title="Atom 1.0"
href="/blog/feed/atom" />
<link rel="stylesheet" href="/style/style.css" type="text/css" />
<link rel="stylesheet" href="/css/pygments_murphy.css" type="text/css" />


  </head>
  <body>
    <div id="wrapper">
      
  <div id="menu">
  <ul>
    <li><a href="/">Home</a></li>
    <li><a href="/blog/">Blog</a></li>
    <li><a href="/notes">Notes</a></li>
    <li><a href="/work.html">Work</a></li>
    <li><a href="/skills.html">Skills</a></li>
    <li><a href="/thoughts.html">Thoughts</a></li>
    <li><a href="/resume.pdf">Resume</a></li>
  </ul>
</div>


      <div id="page">
        <div id="page-bgtop">
          <div id="page-bgbtm">
              <div id="content-wide">
                
<div class="note">
  <h1>SSH</h1>
<h2>Tunnels</h2>
<h3>Syntax</h3>
<pre><code>-L [bind_address:]port:host:hostport]

# Forward local :8000 to :80 on the host connected to
$ ssh -L 8000:localhost:80 host

# Forward local :9000 to :9000 on a host the connected to host can reach
$ ssh -L 9000:foo.example.com:9000 host

-R [bind_address:]port:host:hostport]

# Have :8000 on the remote host forward all connections to localhost:80
$ ssh -R 8000:localhost:80 host

# Have :8000 on the remote host forward all connections to Google
# (useful for testing)
$ ssh -R 8000:www.google.com:80 host

-D [bind_address:]port

# Set up SOCKS proxy listening on localhost:5000. Configure
# FoxyProxy for SOCKSv4 or SOCKSv5 on localhost:5000 and you have an
# instant HTTP proxy server! Be sure to enable remote resolution so
# DNS happens on the remote host.
$ ssh -D 5000 host
</code></pre>
<h3>MyEnTunnel</h3>
<p><a href="http://nemesis2.qx.net/pages/MyEnTunnel">MyEnTunnel</a> is a Windows
application that maintains persistent SSH tunnels. Install it as a
startup application and watch as your tunnels always stay connected.</p>
<h2>SSH Server Configuration</h2>
<p>When configuring an SSH server on a new machine, ensure that it has the
following items in the config file (typically /etc/sshd_config):</p>
<pre><code>PermitRootLogin no

# disable passwords and only allow more secure authn, like pubkey
PasswordAuthentication no
ChallengeResponseAuthentication no

# whitelist specific users
AllowUsers gps

# whitelist groups
AllowGroups foo
</code></pre>
<p>For personal (and possibly production machines):</p>
<pre><code>X11Forwarding yes
</code></pre>
</div>

              </div>
          </div>
        </div>
      </div>
      <div id="footer">
        
  <hr/>
  <p>Copyright (c) 2011 Gregory Szorc. All rights reserved. Design by <a href="http://www.freecsstemplates.org/"> CSS Templates</a>.</p>


      </div>
    </div>
  </body>
</html>





